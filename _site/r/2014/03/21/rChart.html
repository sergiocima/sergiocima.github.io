<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>rChart, se non mastichi codice a colazione qui ci sono un paio di indicazioni utili</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">sergiocima.github.io</a></h1>
            <a class="extra" href="/">home</a>
          </div>
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="265.168px" height="159.633px" viewBox="0 0 265.168 159.633" enable-background="new 0 0 265.168 159.633"
	 xml:space="preserve">
<g>
	<g>
		<defs>
			<rect id="SVGID_1_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_2_">
			<use xlink:href="#SVGID_1_"  overflow="visible"/>
		</clipPath>
		
			<rect x="9.382" y="92.382" clip-path="url(#SVGID_2_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="60.771"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_3_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_4_">
			<use xlink:href="#SVGID_3_"  overflow="visible"/>
		</clipPath>
		
			<rect x="9.382" y="92.382" clip-path="url(#SVGID_4_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="60.771"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_5_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_6_">
			<use xlink:href="#SVGID_5_"  overflow="visible"/>
		</clipPath>
		
			<rect x="34.372" y="70.773" clip-path="url(#SVGID_6_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="82.38"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_7_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_8_">
			<use xlink:href="#SVGID_7_"  overflow="visible"/>
		</clipPath>
		
			<rect x="34.372" y="70.773" clip-path="url(#SVGID_8_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="82.38"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_9_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_10_">
			<use xlink:href="#SVGID_9_"  overflow="visible"/>
		</clipPath>
		
			<rect x="59.372" y="5.953" clip-path="url(#SVGID_10_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="147.2"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_11_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_12_">
			<use xlink:href="#SVGID_11_"  overflow="visible"/>
		</clipPath>
		
			<rect x="59.372" y="5.953" clip-path="url(#SVGID_12_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="147.2"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_13_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_14_">
			<use xlink:href="#SVGID_13_"  overflow="visible"/>
		</clipPath>
		
			<rect x="84.372" y="50.513" clip-path="url(#SVGID_14_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="102.64"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_15_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_16_">
			<use xlink:href="#SVGID_15_"  overflow="visible"/>
		</clipPath>
		
			<rect x="84.372" y="50.513" clip-path="url(#SVGID_16_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="102.64"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_17_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_18_">
			<use xlink:href="#SVGID_17_"  overflow="visible"/>
		</clipPath>
		
			<rect x="109.373" y="32.963" clip-path="url(#SVGID_18_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="120.19"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_19_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_20_">
			<use xlink:href="#SVGID_19_"  overflow="visible"/>
		</clipPath>
		
			<rect x="109.373" y="32.963" clip-path="url(#SVGID_20_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="120.19"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_21_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_22_">
			<use xlink:href="#SVGID_21_"  overflow="visible"/>
		</clipPath>
		
			<rect x="134.362" y="23.513" clip-path="url(#SVGID_22_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="129.64"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_23_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_24_">
			<use xlink:href="#SVGID_23_"  overflow="visible"/>
		</clipPath>
		
			<rect x="134.362" y="23.513" clip-path="url(#SVGID_24_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="129.64"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_25_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_26_">
			<use xlink:href="#SVGID_25_"  overflow="visible"/>
		</clipPath>
		
			<rect x="159.362" y="41.063" clip-path="url(#SVGID_26_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="112.09"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_27_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_28_">
			<use xlink:href="#SVGID_27_"  overflow="visible"/>
		</clipPath>
		
			<rect x="159.362" y="41.063" clip-path="url(#SVGID_28_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="112.09"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_29_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_30_">
			<use xlink:href="#SVGID_29_"  overflow="visible"/>
		</clipPath>
		
			<rect x="184.362" y="103.183" clip-path="url(#SVGID_30_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="49.971"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_31_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_32_">
			<use xlink:href="#SVGID_31_"  overflow="visible"/>
		</clipPath>
		
			<rect x="184.362" y="103.183" clip-path="url(#SVGID_32_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="49.971"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_33_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_34_">
			<use xlink:href="#SVGID_33_"  overflow="visible"/>
		</clipPath>
		
			<rect x="209.362" y="119.394" clip-path="url(#SVGID_34_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="33.76"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_35_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_36_">
			<use xlink:href="#SVGID_35_"  overflow="visible"/>
		</clipPath>
		
			<rect x="209.362" y="119.394" clip-path="url(#SVGID_36_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="33.76"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_37_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_38_">
			<use xlink:href="#SVGID_37_"  overflow="visible"/>
		</clipPath>
		
			<rect x="234.362" y="141.002" clip-path="url(#SVGID_38_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="12.15"/>
	</g>
	<g>
		<defs>
			<rect id="SVGID_39_" x="-27.618" y="-15.387" width="323.97" height="175.02"/>
		</defs>
		<clipPath id="SVGID_40_">
			<use xlink:href="#SVGID_39_"  overflow="visible"/>
		</clipPath>
		
			<rect x="234.362" y="141.002" clip-path="url(#SVGID_40_)" fill="#8D256C" stroke="#FFFFFF" stroke-miterlimit="10" width="25" height="12.15"/>
	</g>
</g>
</svg>
          <h2>rChart, se non mastichi codice a colazione qui ci sono un paio di indicazioni utili</h2>
<p class="meta">21 Mar 2014</p>

<div class="post">
<p>Cerco una libreria di R che permetta l&#39;integrazione con d3js, che quindi produca grafici minimamente interattivi, già stilati con buon gusto e possibilmente che non mi richiedano troppi sforzi nel comprendere il codice. Trovo <a href="http://rcharts.io">rChart</a> e lo installo subito. Dagli esempi mi piace questo, si adatta a un mio dataset, quindi seguo il tutorial (in realtà due brevi comandi in R)</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">n1 &lt;- nPlot(Freq ~ Hair, group = &quot;Eye&quot;, data = hair_eye_male, type = &quot;multiBarChart&quot;)
n1$print(&quot;chart3&quot;)
</code></pre></div>
<p>E questo è il codice che restituisce R direttamente nella console </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;div id = &#39;chart3&#39; class = &#39;rChart nvd3&#39;&gt;&lt;/div&gt;
&lt;script type=&#39;text/javascript&#39;&gt;
 $(document).ready(function(){
      drawchart3()
    });
    function drawchart3(){  
      var opts = {
 &quot;dom&quot;: &quot;chart3&quot;,
&quot;width&quot;:    800,
&quot;height&quot;:    400,
&quot;x&quot;: &quot;Hair&quot;,
&quot;y&quot;: &quot;Freq&quot;,
&quot;group&quot;: &quot;Eye&quot;,
&quot;type&quot;: &quot;multiBarChart&quot;,
&quot;id&quot;: &quot;chart3&quot; 
},
        data = [
 {
 &quot;Hair&quot;: &quot;Black&quot;,
&quot;Eye&quot;: &quot;Brown&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             32 
},
{
 &quot;Hair&quot;: &quot;Brown&quot;,
&quot;Eye&quot;: &quot;Brown&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             53 
},
{
 &quot;Hair&quot;: &quot;Red&quot;,
&quot;Eye&quot;: &quot;Brown&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             10 
},
{
 &quot;Hair&quot;: &quot;Blond&quot;,
&quot;Eye&quot;: &quot;Brown&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:              3 
},
{
 &quot;Hair&quot;: &quot;Black&quot;,
&quot;Eye&quot;: &quot;Blue&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             11 
},
{
 &quot;Hair&quot;: &quot;Brown&quot;,
&quot;Eye&quot;: &quot;Blue&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             50 
},
{
 &quot;Hair&quot;: &quot;Red&quot;,
&quot;Eye&quot;: &quot;Blue&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             10 
},
{
 &quot;Hair&quot;: &quot;Blond&quot;,
&quot;Eye&quot;: &quot;Blue&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             30 
},
{
 &quot;Hair&quot;: &quot;Black&quot;,
&quot;Eye&quot;: &quot;Hazel&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             10 
},
{
 &quot;Hair&quot;: &quot;Brown&quot;,
&quot;Eye&quot;: &quot;Hazel&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             25 
},
{
 &quot;Hair&quot;: &quot;Red&quot;,
&quot;Eye&quot;: &quot;Hazel&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:              7 
},
{
 &quot;Hair&quot;: &quot;Blond&quot;,
&quot;Eye&quot;: &quot;Hazel&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:              5 
},
{
 &quot;Hair&quot;: &quot;Black&quot;,
&quot;Eye&quot;: &quot;Green&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:              3 
},
{
 &quot;Hair&quot;: &quot;Brown&quot;,
&quot;Eye&quot;: &quot;Green&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:             15 
},
{
 &quot;Hair&quot;: &quot;Red&quot;,
&quot;Eye&quot;: &quot;Green&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:              7 
},
{
 &quot;Hair&quot;: &quot;Blond&quot;,
&quot;Eye&quot;: &quot;Green&quot;,
&quot;Sex&quot;: &quot;Male&quot;,
&quot;Freq&quot;:              8 
} 
]

      if(!(opts.type===&quot;pieChart&quot; || opts.type===&quot;sparklinePlus&quot;)) {
        var data = d3.nest()
          .key(function(d){
            //return opts.group === undefined ? &#39;main&#39; : d[opts.group]
            //instead of main would think a better default is opts.x
            return opts.group === undefined ? opts.y : d[opts.group];
          })
          .entries(data);
      }

      if (opts.disabled != undefined){
        data.map(function(d, i){
          d.disabled = opts.disabled[i]
        })
      }

      nv.addGraph(function() {
        var chart = nv.models[opts.type]()
          .x(function(d) { return d[opts.x] })
          .y(function(d) { return d[opts.y] })
          .width(opts.width)
          .height(opts.height)

       d3.select(&quot;#&quot; + opts.id)
        .append(&#39;svg&#39;)
        .datum(data)
        .transition().duration(500)
        .call(chart);

       nv.utils.windowResize(chart.update);
       return chart;
      });
    };
&lt;/script&gt;
</code></pre></div>
<p>Bene e ora? Lo prendo e lo incollo in un file html. Lo apro e non succede nulla! Per forza, manca ancora un bel pezzetto. Nel <code>head</code> va messo questo</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;nv.d3.min.css&quot;&gt; 
&lt;script src=&quot;http://code.jquery.com/jquery-1.11.0.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;http://code.jquery.com/jquery-migrate-1.2.1.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://raw.githubusercontent.com/mbostock/d3/master/d3.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://raw.githubusercontent.com/novus/nvd3/master/nv.d3.min.js&quot;&gt;&lt;/script&gt;
</code></pre></div>
<p>Il css l&#39;ho scaricato e modificato per farci stare in altezza il grafico. Il jquery ce lo ha aggiunto <a href="http://riccardoscalco.github.io">Riccardo</a> mentre il js di d3 va aggiungo perché da questo dipende il js di nv. Entrambi possono essere presi direttamente dai repository su Github o messi in locale. 
Salvato l&#39;html e aperto: ora va. A questo punto si possono modificare i dati direttamente nel codice o provare a generare con R altri grafici con altri dati esterni.</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Sergio Cima<br />
                Data worker<br />
                sergiocimaatgmaildotcom
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/sergiocima">github.com/sergiocima</a><br />
                <a href="https://twitter.com/sergio_cima">twitter.com/sergio_cima</a><br />
                <a href="http://linkedin.com/in/sergiocima">linkedin.com/in/sergiocima</a><br />
                <a href="http://polanoid.net/pictures/pictures?uid=1801">polanoid</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
